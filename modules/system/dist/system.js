System.register([],(function(e,t){return{execute:function(){e((()=>{var e,t,n={705:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(705),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,".center[data-v-04311d0e]{text-align:center}.people-img[data-v-04311d0e]{width:200px}.random-persons-button[data-v-04311d0e]{margin-top:10px}\n",""]);const o=r},569:(e,t,n)=>{var i=n(431);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,n(23).Z)("41e2faaa",i,!0,{})},23:(e,t,n)=>{"use strict";function i(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=o[0],a={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}n.d(t,{Z:()=>d});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=r&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,u=!1,c=function(){},h=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(e,t,n,r){u=n,h=r||{};var s=i(e,t);return v(s),function(t){for(var n=[],r=0;r<s.length;r++){var a=s[r];(l=o[a.id]).refs--,n.push(l)}for(t?v(s=i(e,t)):s=[],r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete o[l.id]}}}}function v(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(y(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(y(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:s}}}}function m(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function y(e){var t,n,i=document.querySelector("style["+p+'~="'+e.id+'"]');if(i){if(u)return c;i.parentNode.removeChild(i)}if(f){var r=l++;i=a||(a=m()),t=C.bind(null,i,r,!1),n=C.bind(null,i,r,!0)}else i=m(),t=w.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var g,b=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function C(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function w(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),h.ssrId&&e.setAttribute(p,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={id:e,exports:{}};return n[e](o,o.exports,r),o.exports}r.m=n,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".system.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="system:",r.l=(n,i,o,s)=>{if(e[n])e[n].push(i);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[i];var p=(t,i)=>{a.onerror=a.onload=null,clearTimeout(f);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(i))),t)return t(i)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=o);var s=r.p+r.u(t),a=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[s,a,l]=n,u=0;for(i in a)r.o(a,i)&&(r.m[i]=a[i]);for(l&&l(r),t&&t(n);u<s.length;u++)o=s[u],r.o(e,o)&&e[o]&&e[o][0](),e[s[u]]=0},n=self.webpackChunksystem=self.webpackChunksystem||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o={};return(()=>{"use strict";r.r(o),r.d(o,{load:()=>N,unload:()=>L});var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}function n(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function i(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var a,l=function(){function e(e,t,n){this.listeners=e,this.eventName=t,this.index=n}return e.prototype.dispose=function(){this.listeners[this.eventName].splice(this.index,1)},e}(),u=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]=this.listeners[e]||[];var n=this.listeners[e].push(t);return new l(this.listeners,e,n-1)},e.prototype.off=function(e,t){var n=this.listeners[e];if(n)for(var i=n.length;i>0;i--)if(n[i]===t){n.splice(i,1);break}},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.listeners[e];return!!i&&(i.forEach((function(e){e.apply(void 0,t)})),!0)},e.prototype.dispose=function(){this.listeners={}},e}(),c=[],h=function(e){function n(){var t=e.call(this,"Circuit has no function set")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(Error),p=function(){return n(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2,new Promise((function(e,t){t(new h)}))]}))}))},f=[],d=function(e){function r(t){var n,i=e.call(this)||this;i.name=(null==t?void 0:t.name)?t.name:"Circuit"+f.length;for(var r=0,o=c;r<o.length;r++){var s=o[r];s.onCircuitCreate&&s.onCircuitCreate(i,null==t?void 0:t.options)}return i.func=(null==t?void 0:t.func)?t.func:p,i.modules=(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n.modules)||[],f.push(i),i}return t(r,e),Object.defineProperty(r.prototype,"activeModules",{get:function(){return this.modules.filter((function(e){return e.active}))},enumerable:!1,configurable:!0}),r.prototype.fn=function(e){return this.func=e,this},r.prototype.execute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){if(this.activeModules.length)if(this.activeModules.length>1){for(n=[],r=2;r<this.activeModules.length;r++)n.push(this,this.activeModules[r].execute.bind(this.activeModules[r]));n.push.apply(n,s([this,this.func],e)),t=(o=this.activeModules[0]).execute.apply(o,s([this,this.activeModules[1].execute.bind(this.activeModules[1])],n))}else t=(a=this.activeModules[0]).execute.apply(a,s([this,this.func],e));else t=this.func.apply(this,e);return this.emit("execute",this,t),[2,t]}))}))},r.prototype.dispose=function(){e.prototype.dispose.call(this),this.modules&&this.modules.forEach((function(e){return e.dispose()}))},r}(u),v=function(){},m=[],y=function(e){function n(t){var n=e.call(this)||this;n.active=void 0===(null==t?void 0:t.active)||t.active,n.name=void 0!==(null==t?void 0:t.name)?t.name:"Module"+m.length;for(var i=0,r=c;i<r.length;i++){var o=r[i];o.onModuleCreate&&o.onModuleCreate(n,t)}return n.logger=null==t?void 0:t.logger,m.push(n),n}return t(n,e),n.prototype.execute=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=t.apply(void 0,n);return this.emit("execute",e,r),r},n.prototype.getExecParams=function(e,t){var n=this,i=e.modules.findIndex((function(e){return e===n})),r=t.length-2*(e.modules.length-1-i);return t.filter((function(e,n){return t.length-n<=r}))},n}(u),g=(t((function(){return null!==a&&a.apply(this,arguments)||this}),a=v),function(e){function n(){var t=e.call(this,"Timed out")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(Error));function b(e){return void 0===e&&(e=1),n(this,void 0,void 0,(function(){return i(this,(function(t){return[2,new Promise((function(t){setTimeout((function(){t()}),e)}))]}))}))}!function(e){function r(t){var n=e.call(this,t)||this;return n.delay=void 0!==(null==t?void 0:t.delay)?t.delay:6e4,n}t(r,e),r.prototype.execute=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=this._promiseTimeout.apply(this,s([e,this.delay,t],r)),this.emit("execute",e,n),[2,n]}))}))},r.prototype._promiseTimeout=function(e,t,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return n(this,void 0,void 0,(function(){var n,s=this;return i(this,(function(i){return 0!==t&&t!==1/0?[2,Promise.race([r.apply(void 0,o),new Promise((function(i,r){n=setTimeout((function(){s.emitTimeout(e),r(new g)}),t)}))]).then((function(e){return clearTimeout(n),e})).catch((function(e){return clearTimeout(n),Promise.reject(e)}))]:[2,r.apply(void 0,o)]}))}))},r.prototype.emitTimeout=function(e){var t;null===(t=this.logger)||void 0===t||t.debug(e.name+"/"+this.name+" - Has timed out"),this.emit("timeout",e)}}(y),function(e){t((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(v),function(e){function r(t){var n=e.call(this,t)||this;return n.attempts=void 0!==(null==t?void 0:t.attempts)?t.attempts:2,n.interval=void 0!==(null==t?void 0:t.interval)?t.interval:0,n.onRejection=(null==t?void 0:t.onRejection)||function(){return!0},n}t(r,e),r.prototype.execute=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=this._promiseRetry.apply(this,s([e,this.attempts+1,t],r)),this.emit("execute",e,n),[2,n]}))}))},r.prototype._promiseRetry=function(e,t,r){for(var o,a,l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];return n(this,void 0,void 0,(function(){var u=this;return i(this,(function(c){return t-1==0?(this.emit("retry",e,this.attempts),null===(o=this.logger)||void 0===o||o.debug(e.name+"/"+this.name+" - Retry: ("+this.attempts+"/"+this.attempts+")"),[2,r.apply(void 0,l)]):(t!==this.attempts+1&&(this.emit("retry",e,this.attempts-t+1),null===(a=this.logger)||void 0===a||a.debug(e.name+"/"+this.name+" - Retry: ("+(this.attempts-t+1)+"/"+this.attempts+")")),[2,r.apply(void 0,l).catch((function(o){return n(u,void 0,void 0,(function(){var n,a;return i(this,(function(i){switch(i.label){case 0:return n=this.onRejection(o),a="number"==typeof n?n:this.interval,!1!==n?[3,1]:[2,Promise.reject(o)];case 1:return[4,b(a)];case 2:return i.sent(),[2,this._promiseRetry.apply(this,s([e,t-1,r],l))]}}))}))}))])}))}))}}(y),function(e){t((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(v);var C,w,S=function(e){function n(t){var i=e.call(this,"Ratelimited")||this;return i.remainingTimeInRatelimit=t,Object.setPrototypeOf(i,n.prototype),i}return t(n,e),n}(Error),O=function(e){function r(t){var n=e.call(this,t)||this;return n.limitPeriod=void 0!==(null==t?void 0:t.limitPeriod)?t.limitPeriod:0,n.limitForPeriod=void 0!==(null==t?void 0:t.limitForPeriod)?t.limitForPeriod:1/0,n.requestsTime=[],n}return t(r,e),r.prototype.execute=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=this._promiseRatelimit.apply(this,s([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},r.prototype._promiseRatelimit=function(e,t){for(var r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];return n(this,void 0,void 0,(function(){var n,s;return i(this,(function(i){return this.limitPeriod?(n=(new Date).getTime(),this.requestsTime.length<this.limitForPeriod?(this.requestsTime.push(n),[2,t.apply(void 0,o)]):(s=n-this.requestsTime[0])>this.limitPeriod?(this.requestsTime.shift(),this.requestsTime.push(n),[2,t.apply(void 0,o)]):(null===(r=this.logger)||void 0===r||r.debug(e.name+"/"+this.name+" - Ratelimited"),this.emit("ratelimit",e),[2,Promise.reject(new S(this.limitPeriod-s))])):[2,t.apply(void 0,o)]}))}))},r}(y),_=(function(e){t((function(){var t=null!==e&&e.apply(this,arguments)||this;return t.callback=function(e){return e},t}),e)}(v),function(e){function r(t){var n=e.call(this,t)||this;return n.callback=(null==t?void 0:t.callback)||function(e){return e},n}t(r,e),r.prototype.execute=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=this._promiseFallback.apply(this,s([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},r.prototype._promiseFallback=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var e=this;return i(this,(function(n){return[2,new Promise((function(n,i){t.apply(void 0,r).then((function(e){n(e)})).catch((function(t){i(e.callback(t))}))}))]}))}))}}(y),function(e){function n(){var t=e.call(this,"Circuit is opened")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(Error)),T=function(e){function n(){var t=e.call(this,"Max allowed requests reached")||this;return Object.setPrototypeOf(t,_.prototype),t}return t(n,e),n}(Error);!function(e){e.CLOSED="closed",e.HALF_OPENED="half-opened",e.OPENED="opened"}(C||(C={})),function(e){t((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(v),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILURE=1]="FAILURE",e[e.TIMEOUT=2]="TIMEOUT"}(w||(w={}));var x=function(e){function r(t){var n=e.call(this,t)||this;return n.halfOpenMaxDelayTimeout=0,n.openTimeout=0,n.state=void 0!==(null==t?void 0:t.state)?t.state:C.CLOSED,n.openStateDelay=void 0!==(null==t?void 0:t.openStateDelay)?t.openStateDelay:6e4,n.halfOpenStateMaxDelay=void 0!==(null==t?void 0:t.halfOpenStateMaxDelay)?t.halfOpenStateMaxDelay:0,n.state===C.OPENED?n.setHalfDelay():n.state===C.HALF_OPENED&&n.setOpenDelay(),n.slidingWindowSize=void 0!==(null==t?void 0:t.slidingWindowSize)?t.slidingWindowSize:10,n.minimumNumberOfCalls=void 0!==(null==t?void 0:t.minimumNumberOfCalls)?t.minimumNumberOfCalls:10,n.failureRateThreshold=void 0!==(null==t?void 0:t.failureRateThreshold)?t.failureRateThreshold:50,n.slowCallDurationThreshold=void 0!==(null==t?void 0:t.slowCallDurationThreshold)?t.slowCallDurationThreshold:6e4,n.slowCallRateThreshold=void 0!==(null==t?void 0:t.slowCallRateThreshold)?null==t?void 0:t.slowCallRateThreshold:100,n.permittedNumberOfCallsInHalfOpenState=void 0!==(null==t?void 0:t.permittedNumberOfCallsInHalfOpenState)?t.permittedNumberOfCallsInHalfOpenState:2,n.nbCallsInHalfOpenedState=0,n.callsInHalfOpenedState=[],n.callsInClosedState=[],n.onError=(null==t?void 0:t.onError)||function(){return!0},n}return t(r,e),r.prototype.reinitializeCounters=function(){this.nbCallsInHalfOpenedState=0,this.callsInClosedState=[],this.callsInHalfOpenedState=[]},r.prototype.onOpened=function(){this.reinitializeCounters()},r.prototype.onClosed=function(){this.reinitializeCounters()},r.prototype.onHalfOpened=function(){this.reinitializeCounters()},r.prototype.execute=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=this._promiseBreaker.apply(this,s([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},r.prototype._promiseBreaker=function(e,t){for(var r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:switch(this.state){case C.OPENED:return[3,1];case C.HALF_OPENED:return[3,2];case C.CLOSED:return[3,4]}return[3,6];case 1:return null===(r=this.logger)||void 0===r||r.debug(e.name+"/"+this.name+" - Circuit is opened"),[2,Promise.reject(new _)];case 2:return[4,this.executeInHalfOpened.apply(this,s([t],o))];case 3:return[2,n.sent()];case 4:return[4,this.executeInClosed.apply(this,s([t],o))];case 5:return[2,n.sent()];case 6:return[2]}}))}))},r.prototype.adjustedRequestResult=function(e,t){return t||e!==w.FAILURE?e:w.SUCCESS},r.prototype.executeInHalfOpened=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:return this.nbCallsInHalfOpenedState<this.permittedNumberOfCallsInHalfOpenState?(this.nbCallsInHalfOpenedState++,[4,this.executePromise.apply(this,s([e],t))]):[3,2];case 1:return n=i.sent(),r=n.requestResult,o=n.response,a=n.shouldReportFailure,this.callsInHalfOpenedState.push(this.adjustedRequestResult(r,a)),this.callsInHalfOpenedState.length==this.permittedNumberOfCallsInHalfOpenState&&this.checkCallRatesHalfOpen(this.open.bind(this),this.close.bind(this)),r===w.FAILURE?[2,Promise.reject(o)]:[2,Promise.resolve(o)];case 2:return[2,Promise.reject(new T)];case 3:return[2]}}))}))},r.prototype.executePromise=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=(new Date).getTime();return e.apply(void 0,n).then((function(e){var n=(new Date).getTime(),i=w.SUCCESS;return 0!==t.slowCallDurationThreshold&&t.slowCallDurationThreshold!==1/0&&n-r>t.slowCallDurationThreshold&&(i=w.TIMEOUT),{requestResult:i,response:e,shouldReportFailure:!1}})).catch((function(e){return{requestResult:w.FAILURE,response:e,shouldReportFailure:t.onError(e)}}))},r.prototype.checkCallRatesHalfOpen=function(e,t){var n=this.callsInHalfOpenedState.reduce(this.getNbSlowAndFailure,{nbSlow:0,nbFailure:0}),i=n.nbSlow,r=n.nbFailure;this.checkResult(i,r,this.callsInHalfOpenedState.length,e,t)},r.prototype.checkResult=function(e,t,n,i,r){this.slowCallRateThreshold<100&&e/n*100>=this.slowCallRateThreshold||this.failureRateThreshold<100&&t/n*100>=this.failureRateThreshold?i():r&&r()},r.prototype.getNbSlowAndFailure=function(e,t){switch(t){case w.FAILURE:e.nbFailure++;break;case w.TIMEOUT:e.nbSlow++}return e},r.prototype._open=function(e){var t;this.state!==C.OPENED&&(null===(t=this.logger)||void 0===t||t.debug(e.name+"/"+this.name+" - Breaker: Open"),this.open())},r.prototype._close=function(e){var t;this.state!==C.CLOSED&&(null===(t=this.logger)||void 0===t||t.debug(e.name+"/"+this.name+" - Breaker: Close"),this.close())},r.prototype.open=function(){this.state!==C.OPENED&&(this.clearHalfOpenTimeout(),this.state=C.OPENED,this.setHalfDelay(),this.onOpened(),this.emit("state-changed",this.state))},r.prototype.halfOpen=function(){this.state!==C.HALF_OPENED&&(this.clearHalfOpenTimeout(),this.state=C.HALF_OPENED,this.setOpenDelay(),this.onHalfOpened(),this.emit("state-changed",this.state))},r.prototype.close=function(){this.state!==C.CLOSED&&(this.clearHalfOpenTimeout(),this.state=C.CLOSED,this.onClosed(),this.emit("state-changed",this.state))},r.prototype.setHalfDelay=function(){var e=this;this.openTimeout=setTimeout((function(){var t;null===(t=e.logger)||void 0===t||t.debug(e.name+" - Breaker: Half Open"),e.halfOpen()}),this.openStateDelay)},r.prototype.setOpenDelay=function(){var e=this;this.halfOpenStateMaxDelay&&(this.halfOpenMaxDelayTimeout=setTimeout((function(){e.halfOpenMaxDelayTimeout=0,e.open()}),this.halfOpenStateMaxDelay))},r.prototype.clearHalfOpenTimeout=function(){this.halfOpenMaxDelayTimeout&&(clearTimeout(this.halfOpenMaxDelayTimeout),this.halfOpenMaxDelayTimeout=0)},r.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearHalfOpenTimeout(),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=0)},r}(y),I=function(e,t){this.ttl=e,this.res=t},P=function(){function e(){this.map=new Map}return e.prototype.set=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._setLoopMap.apply(this,s([this.map,e],t))},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getLoopMap.apply(this,s([this.map],e))},e.prototype.clear=function(){return this._clearLoopMap(this.map)},e.prototype._setLoopMap=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(2===n.length){var r={map:new Map,cache:new I(Date.now()+t,n[1])};e.set(n[0],r)}else if(e.get(n[0])){var o=n.splice(0,1)[0];this._setLoopMap.apply(this,s([e.get(o).map,t],n))}else{var a=new Map;e.set(n[0],{map:a}),n.splice(0,1),this._setLoopMap.apply(this,s([a,t],n))}},e.prototype._getLoopMap=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){if(1===t.length)return e.get(t[0])&&e.get(t[0]).cache;var i=t.splice(0,1)[0];return e.get(i)?this._getLoopMap.apply(this,s([e.get(i).map],t)):null}return null},e.prototype._clearLoopMap=function(e){var t=this,n=!1;return e.forEach((function(e){e.map&&!0===t._clearLoopMap(e.map)&&(n=!0),e.cache&&Date.now()>e.cache.ttl&&(delete e.cache,n=!0)})),n},e}(),E=(function(e){t((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(v),function(e){function r(t){var n=e.call(this,t)||this;return n.ttl=void 0!==(null==t?void 0:t.ttl)?t.ttl:6e3,n.getInformationFromCache=void 0!==(null==t?void 0:t.getInformationFromCache)&&t.getInformationFromCache,n._cacheInterval=null,n._cacheClearInterval=0,n.cacheClearInterval=void 0!==(null==t?void 0:t.cacheClearInterval)?t.cacheClearInterval:9e5,n.cache=new P,n}t(r,e),Object.defineProperty(r.prototype,"cacheClearInterval",{get:function(){return this._cacheClearInterval},set:function(e){this._cacheClearInterval=e,this._initializeInterval()},enumerable:!1,configurable:!0}),r.prototype.execute=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=this._promiseCache.apply(this,s([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},r.prototype.dispose=function(){e.prototype.dispose.call(this),this._cacheInterval&&(clearTimeout(this._cacheInterval),this._cacheInterval=null)},r.prototype._promiseCache=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n=this;return i(this,(function(i){return[2,new Promise((function(i,o){var a,l,u=(a=n.cache).get.apply(a,s([t],r));if(u){"object"==typeof u.res&&n.getInformationFromCache&&(u.res._mollitiaIsFromCache=!0);var c=Date.now();n.ttl!==1/0&&u.ttl<c?t.apply(void 0,r).then((function(e){var o;n.ttl>0&&(o=n.cache).set.apply(o,s([n.ttl,t],r,[e])),"object"==typeof e&&n.getInformationFromCache&&(e._mollitiaIsFromCache=!1),i(e)})).catch((function(){var t;null===(t=n.logger)||void 0===t||t.debug(e.name+"/"+n.name+" - Cache: Hit [Old]"),i(u.res)})):(null===(l=n.logger)||void 0===l||l.debug(e.name+"/"+n.name+" - Cache: Hit"),i(u.res))}else t.apply(void 0,r).then((function(e){var o;n.ttl>0&&(o=n.cache).set.apply(o,s([n.ttl,t],r,[e])),"object"==typeof e&&n.getInformationFromCache&&(e._mollitiaIsFromCache=!1),i(e)})).catch((function(e){o(e)}))}))]}))}))},r.prototype._initializeInterval=function(){var e=this;this._cacheInterval&&(clearTimeout(this._cacheInterval),this._cacheInterval=null),0!==this.cacheClearInterval&&this.cacheClearInterval!==1/0&&(this._cacheInterval=setTimeout((function(){var t;e.cache.clear()&&(null===(t=e.logger)||void 0===t||t.debug(e.name+" - Cache: Clear")),e._initializeInterval()}),this.cacheClearInterval))}}(y),function(e){function r(t){var n=e.call(this,t)||this;return n.slidingWindowSize=void 0!==(null==t?void 0:t.slidingWindowSize)?t.slidingWindowSize:10,n.slidingWindowSize<n.minimumNumberOfCalls&&(n.slidingWindowSize=n.minimumNumberOfCalls),n}t(r,e),r.prototype.executeInClosed=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n(this,void 0,void 0,(function(){var n,r,o,a,l;return i(this,(function(i){switch(i.label){case 0:return[4,this.executePromise.apply(this,s([e],t))];case 1:return n=i.sent(),r=n.requestResult,o=n.response,a=n.shouldReportFailure,this.callsInClosedState.push(this.adjustedRequestResult(r,a)),(l=this.callsInClosedState.length)>=this.minimumNumberOfCalls&&(l>this.slidingWindowSize&&this.callsInClosedState.splice(0,l-this.slidingWindowSize),this.checkCallRatesClosed(this.open.bind(this))),r===w.FAILURE?[2,Promise.reject(o)]:[2,Promise.resolve(o)]}}))}))},r.prototype.checkCallRatesClosed=function(e){var t=this.callsInClosedState.reduce(this.getNbSlowAndFailure,{nbSlow:0,nbFailure:0}),n=t.nbSlow,i=t.nbFailure;this.checkResult(n,i,this.callsInClosedState.length,e)}}(x),function(e){function r(t){var n=e.call(this,t)||this;return n.slidingWindowSize=void 0!==(null==t?void 0:t.slidingWindowSize)?t.slidingWindowSize:60,n.maxSize=1e3,n}t(r,e),r.prototype.filterCalls=function(){var e=this.callsInClosedState.length;e>=this.maxSize&&(this.callsInClosedState.shift,e--);for(var t=!0,n=(new Date).getTime(),i=0;i<e&&t;i++)n-this.callsInClosedState[0].timestamp>this.slidingWindowSize?this.callsInClosedState.shift():t=!1},r.prototype.executeInClosed=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:return[4,this.executePromise.apply(this,s([e],t))];case 1:return n=i.sent(),r=n.requestResult,o=n.response,a=n.shouldReportFailure,this.filterCalls(),this.callsInClosedState.push({result:this.adjustedRequestResult(r,a),timestamp:(new Date).getTime()}),this.callsInClosedState.length>=this.minimumNumberOfCalls&&this.checkCallRatesClosed(this.open.bind(this)),r===w.FAILURE?[2,Promise.reject(o)]:[2,Promise.resolve(o)]}}))}))},r.prototype.checkCallRatesClosed=function(e){var t=this.callsInClosedState.reduce(this.getNbSlowAndFailureTimeElem,{nbSlow:0,nbFailure:0}),n=t.nbSlow,i=t.nbFailure;this.checkResult(n,i,this.callsInClosedState.length,e)},r.prototype.getNbSlowAndFailureTimeElem=function(e,t){switch(t.result){case w.FAILURE:e.nbFailure++;break;case w.TIMEOUT:e.nbSlow++}return e}}(x),function(e){t((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(v),function(e){function n(){var t=e.call(this,"Circuit is overloaded")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(Error)),R=function(e){function n(){var t=e.call(this,"Waiting for too long in queue")||this;return Object.setPrototypeOf(t,n.prototype),t}return t(n,e),n}(Error),M=function(e){function r(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=e.call(this)||this;return r.promise=t,r.params=n,r}return t(r,e),r.prototype.execute=function(){return n(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t,n){e.emit("execute"),e.promise.apply(e,e.params).then((function(n){e.emit("resolve",n),t(n)})).catch((function(t){e.emit("reject",t),n(t)}))}))]}))}))},r}(u);!function(e){function r(t){var n=e.call(this,t)||this;return n.concurrentSize=void 0!==(null==t?void 0:t.concurrentSize)?t.concurrentSize:10,n.queueSize=void 0!==(null==t?void 0:t.queueSize)?t.queueSize:10,n.maxQueueWait=void 0!==(null==t?void 0:t.maxQueueWait)?t.maxQueueWait:6e4,n.concurrentBuffer=[],n.queueBuffer=[],n}t(r,e),r.prototype.execute=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){return n=this._promiseBulkhead.apply(this,s([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},r.prototype._promiseBulkhead=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n(this,void 0,void 0,(function(){var e=this;return i(this,(function(n){return[2,new Promise((function(n,i){var o=new(M.bind.apply(M,s([void 0,t],r)));if(e.concurrentBuffer.length<e.concurrentSize)o.execute().then((function(e){n(e)})).catch((function(e){i(e)})).finally((function(){e.concurrentBuffer.splice(e.concurrentBuffer.indexOf(o),1),e._addBufferedPromise()})),e.concurrentBuffer.push(o);else if(e.queueBuffer.length<e.queueSize){e.queueBuffer.push(o);var a=setTimeout((function(){e.queueBuffer.splice(e.queueBuffer.indexOf(o),1),u.dispose(),c.dispose(),i(new R)}),e.maxQueueWait),l=o.on("execute",(function(){l.dispose(),clearTimeout(a)})),u=o.on("resolve",(function(t){clearTimeout(a),e.concurrentBuffer.splice(e.concurrentBuffer.indexOf(o),1),u.dispose(),c.dispose(),e._addBufferedPromise(),n(t)})),c=o.on("reject",(function(t){clearTimeout(a),e.concurrentBuffer.splice(e.concurrentBuffer.indexOf(o),1),u.dispose(),c.dispose(),e._addBufferedPromise(),i(t)}))}else i(new E)}))]}))}))},r.prototype._addBufferedPromise=function(){if(this.queueBuffer.length>0){var e=this.queueBuffer.splice(0,1)[0];e.execute().catch((function(){})),this.concurrentBuffer.push(e)}}}(y);const D={name:"ModuleView",props:{modulePath:{type:String},men:{type:Array,default:function(){return[]}},women:{type:Array,default:function(){return[]}}},data:function(){return{people:[],ratelimitedMessage:"",circuit:null,ratelimitModule:null}},created:function(){this.ratelimitModule=new O({name:"RateLimit",logger:console,limitPeriod:1e4,limitForPeriod:2}),this.circuit=new d({name:"myCircuit",options:{modules:[this.ratelimitModule]}})},methods:{buttonClicked:function(){var e=this;this.circuit.fn(this.randomPersons).execute().then((function(t){e.people=t,e.ratelimitedMessage=""})).catch((function(t){t instanceof S&&(e.ratelimitedMessage="You are Rate Limited, you will be able to see other random persons in ".concat(Math.ceil(t.remainingTimeInRatelimit/1e3),"s"))}))},randomPersons:function(){var e=this;return new Promise((function(t){var n=Math.floor(9*Math.random()),i=[];i.push(e.men[n]),i.push(e.women[n]),t(i)}))}}};r(569);const F=function(e,t,n,i,r,o,s,a){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("First Name")]),e._v(" "),n("th",[e._v("Last Name")]),e._v(" "),n("th",[e._v("Picture")])])])}],u._compiled=!0),u._scopeId="data-v-04311d0e",l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:u}}(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"system-sample"}},[n("h2",[e._v("Persons")]),e._v(" "),n("table",{staticClass:"center"},[e._m(0),e._v(" "),n("tbody",e._l(e.people,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.firstname))]),e._v(" "),n("td",[e._v(e._s(t.lastname))]),e._v(" "),n("td",[n("img",{staticClass:"people-img",attrs:{src:e.modulePath+"/static/"+t.picture,alt:"person.firstname"}})])])})),0)]),e._v(" "),n("div",[n("button",{staticClass:"random-persons-button",on:{click:e.buttonClicked}},[e._v("Random persons")])]),e._v(" "),e.ratelimitedMessage?n("div",[e._v(" "+e._s(e.ratelimitedMessage))]):e._e()])})).exports;function k(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){k(o,i,r,s,a,"next",e)}function a(e){k(o,i,r,s,a,"throw",e)}s(void 0)}))}}function N(e){return H.apply(this,arguments)}function H(){return(H=j(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Vue,i=t.modulePath,r.p="".concat(i,"/"),e.next=4,r.e(941).then(r.bind(r,941));case 4:return o=e.sent,new(n.extend(F))({propsData:{modulePath:i,men:o.listMen(),women:o.listWomen()}}).$mount("#system-sample"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return B.apply(this,arguments)}function B(){return(B=j(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(859).then(r.bind(r,859));case 2:t=e.sent,document.getElementById("system-sample").innerHTML="<h3>".concat(t.default(),"</h3>");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})(),o})())}}}));